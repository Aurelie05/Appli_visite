import{b as l,j as e,a as i}from"./app-Ckhq5xyA.js";import{A as d}from"./AuthenticatedLayout-CqeBbKd9.js";/* empty css            */import"./logoINP.75e5c7a93c30dc493d7f-D84s77X7.js";function u(){const{visiteurs:t=[]}=l().props,n=s=>{confirm("Confirmer la sortie de ce visiteur ?")&&i.post(`/visiteur/sortie/${s}`,{},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{i.reload({only:["notifications"]})}})},a=s=>{if(!s)return"-";const r=new Date(s);return isNaN(r.getTime())?"-":r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})};return e.jsx(d,{children:e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"File d'attente"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Visiteurs actuellement présents (",t.length,")"]}),t.length===0?e.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Aucun visiteur en attente."})}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(s=>e.jsx("li",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:s.numero_badge}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.nom," ",s.prenom]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:["Tél: ",s.telephone]}),e.jsxs("p",{children:["Rendez-vous avec: ",s.personne_a_rencontrer]}),e.jsxs("p",{children:["Motif: ",s.motif_visite]}),e.jsxs("p",{children:["Entrée: ",a(s.heure_entree)]})]})]}),e.jsx("button",{onClick:()=>n(s.id),className:"mt-3 sm:mt-0 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Marquer la sortie"})]})},s.id))})})]})})})}export{u as default};
