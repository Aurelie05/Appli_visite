import{b as j,r as h,j as e,L as l,a as N}from"./app-Ckhq5xyA.js";import{l as f}from"./logoINP.75e5c7a93c30dc493d7f-D84s77X7.js";function y({header:i,children:g}){const{props:x}=j(),s=x.auth??{user:{name:"",email:""},is_admin:!1,is_superviseur:!1,is_agent:!1},a=s.user??{name:"",email:""},r=s.is_admin===!0,c=s.is_superviseur===!0,o=r||c,m=s.is_agent===!0,d=(x.notifications??{visiteurs_en_attente:0}).visiteurs_en_attente??0,[n,u]=h.useState(!1);h.useEffect(()=>{console.log("ðŸ‘¤ isAdmin =",r,"| isSuperviseur =",c,"| isAgent =",m),console.log("ðŸ“¦ auth =",s)},[r,c,m,s]);const b=()=>{N.post(route("logout"))},p=()=>{u(!n)},t=()=>{u(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t}),e.jsxs("div",{className:`
                fixed lg:static inset-y-0 left-0 z-50
                w-64 bg-gradient-to-b from-blue-600 to-blue-800 shadow-lg flex flex-col
                transform transition-transform duration-300 ease-in-out
                ${n?"translate-x-0":"-translate-x-full"}
                lg:translate-x-0
            `,children:[e.jsx("div",{className:"p-6 border-b border-blue-500",children:e.jsxs(l,{href:route("welcome"),className:"flex items-center space-x-3",onClick:t,children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center shadow-md",children:e.jsx("img",{className:"w-full h-full object-contain",src:f,alt:"Logo INPHB"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white font-bold text-lg block",children:"INPHB"}),e.jsx("p",{className:"text-blue-200 text-xs",children:"SystÃ¨me d'enregistrement des visiteurs"})]})]})}),e.jsxs("nav",{className:"p-4 flex-1",children:[o&&e.jsxs(l,{href:"/dashboard",className:"flex items-center space-x-3 w-full p-3 text-white hover:bg-blue-700 rounded-lg transition-colors mb-2",onClick:t,children:[e.jsx("span",{className:"text-lg",children:"ðŸ“Š"}),e.jsx("span",{className:"font-medium",children:"Dashboard"})]}),e.jsxs(l,{href:"/file-attente",className:"flex items-center space-x-3 w-full p-3 text-white hover:bg-blue-700 rounded-lg transition-colors mb-2 relative",onClick:t,children:[e.jsxs("span",{className:"text-lg relative",children:["â³",d>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:d>9?"9+":d})]}),e.jsx("span",{className:"font-medium",children:"File d'attente"})]}),o&&e.jsxs(l,{href:"/visiteurs/list",className:"flex items-center space-x-3 w-full p-3 text-white hover:bg-blue-700 rounded-lg transition-colors mb-2",onClick:t,children:[e.jsx("span",{className:"text-lg",children:"ðŸ‘¥"}),e.jsx("span",{className:"font-medium",children:"Liste des visiteurs"})]}),o&&e.jsxs(l,{href:"/admin/agents/create",className:"flex items-center space-x-3 w-full p-3 text-white hover:bg-blue-700 rounded-lg transition-colors mb-2",onClick:t,children:[e.jsx("span",{className:"text-lg",children:"âž•"}),e.jsx("span",{className:"font-medium",children:"CrÃ©ation de compte agent"})]})]}),e.jsx("div",{className:"p-4 border-t border-blue-500",children:e.jsxs("div",{className:"bg-blue-700 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:a.name?.charAt(0).toUpperCase()??"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white text-sm font-medium truncate",children:a.name??"Utilisateur"}),e.jsx("p",{className:"text-blue-200 text-xs truncate",children:a.email??""})]})]}),e.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center space-x-2 bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-blue-700",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),e.jsx("span",{className:"text-sm font-medium",children:"DÃ©connexion"})]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx("header",{className:"lg:hidden bg-white shadow-sm border-b border-blue-100",children:e.jsxs("div",{className:"mx-auto px-4 py-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:p,className:"p-2 rounded-md text-gray-600 hover:text-blue-600 hover:bg-gray-100 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-blue-800 rounded-lg flex items-center justify-center shadow-md",children:e.jsx("img",{className:"w-full h-full object-contain p-1",src:f,alt:"Logo INPHB"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold text-gray-900",children:"INPHB"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Visiteurs"})]})]}),e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:a.name?.charAt(0).toUpperCase()??"U"})]}),i&&e.jsx("div",{className:"mt-4",children:i})]})}),i&&e.jsx("header",{className:"hidden lg:block bg-white shadow-sm border-b border-blue-100",children:e.jsx("div",{className:"mx-auto px-4 py-4 sm:px-6 lg:px-8",children:i})}),e.jsx("main",{className:"flex-1 py-6",children:e.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:g})})]})]})}export{y as A};
